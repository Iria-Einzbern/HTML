<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>菜鸟教程(runoob.com)</title>
</head>
<body>

<p>局部变量计数。</p>
<button type="button" onclick="myFunction()">计数!</button>
<p id="demo">0</p>
<script>
var add = (
    //外部函数只执行一次，返回内部函数作为add的值，之后销毁，但外部函数创建的变量在内部函数保持存在
    function () {
        
    //变量作用域只在内部
    var counter = 0;
    var test1 = 1;

    //调用add只会调用内部这个函数
    return function () {
        counter+=test1;
        test1++;
        return counter;
    }})();


function myFunction(){
    document.getElementById("demo").innerHTML = add();
}
</script>

</body>
</html>